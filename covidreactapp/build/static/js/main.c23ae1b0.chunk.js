(this.webpackJsonpcovidreactapp=this.webpackJsonpcovidreactapp||[]).push([[0],{160:function(e,a,t){e.exports=t(368)},165:function(e,a,t){},166:function(e,a,t){},172:function(e,a,t){},368:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(68),s=t.n(r),c=(t(165),t(166),t(12)),i=t(13),o=t(14),m=t(15),u=t(3),d=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(e){var n;Object(c.a)(this,t),(n=a.call(this,e)).toggle=function(){!1===n.state.status?n.setState({status:!0}):n.setState({status:!1})};var r=!1;return r="true"==localStorage.getItem("isLoggedIn"),n.state={status:!1,isLoggedIn:r},console.log(n.state.isLoggedIn),n.JSX=l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("div",{className:"buttons"},l.a.createElement(u.b,{to:"/register",className:"button is-primary"},l.a.createElement("strong",null,"Sign up")),l.a.createElement(u.b,{to:"/",className:"button is-light"},"Log in")))),n}return Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement(u.b,{to:"/",className:"navbar-item",style:{fontSize:"40px",fontWeight:200}},"Stay Quaratine"),l.a.createElement("a",{href:"#ToggleNavbar",role:"button",onClick:this.toggle,className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}))),l.a.createElement("div",{id:"navbarBasicExample",className:!0===this.state.status?"navbar-menu is-active":"navbar-menu"},l.a.createElement("div",{className:"navbar-start"},l.a.createElement(u.b,{to:"/home",className:"navbar-item",href:"#Home"},"Home"),l.a.createElement("a",{className:"navbar-item",href:"#services"},"Services"),l.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},l.a.createElement(u.b,{to:"/",className:"navbar-link",href:"#login"},"Login"),l.a.createElement("div",{className:"navbar-dropdown"},l.a.createElement("a",{className:"navbar-item"},"About"),l.a.createElement("a",{className:"navbar-item"},"Jobs"),l.a.createElement("a",{className:"navbar-item"},"Contact"),l.a.createElement("hr",{className:"navbar-divider"}),l.a.createElement("a",{className:"navbar-item"},"Report an issue")))),this.JSX))}}]),t}(n.Component),g=t(69),p=t(19),h=t.n(p),v=t(28),E=t(29),b=(t(101),function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(e){var n;Object(c.a)(this,t),(n=a.call(this,e)).onSubmit=function(){var e=Object(v.a)(h.a.mark((function e(a){var t,l,r,s,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n.setState({isPending:!0}),t=a.target.email.value,l=a.target.password.value,r=a.target.name.value,s=a.target.phone.value,e.next=8,fetch("/api/users/register",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:r,email:t,phone:s,password:l,loginTime:new Date})});case 8:return c=e.sent,e.next=11,c.json();case 11:i=e.sent,console.log(i),i.isRegistered&&1==i.isRegistered?(localStorage.setItem("isLoggedIn",!0),n.setState({isLoggedIn:!0,isPending:!1})):n.setState({isPending:!1});case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.onChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))};var l=!1;return"true"==localStorage.getItem("isLoggedIn")?(console.log(l),l=!0):l=!1,n.state={name:"",email:"",phone:"",password:"",isLoggedIn:l,isPending:!1},n}return Object(i.a)(t,[{key:"render",value:function(){return 1==this.state.isLoggedIn?l.a.createElement(E.a,{to:"/home"}):l.a.createElement("span",null,l.a.createElement(d,null),l.a.createElement("form",{onSubmit:this.onSubmit},1==this.state.isPending?l.a.createElement("progress",{class:"progress is-small is-primary",max:"100"},"15%"):"",l.a.createElement("center",{style:{fontSize:"50px",fontWeight:200}},"Register Form"),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Name"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{id:"name",name:"name",class:"input",type:"text",placeholder:"Enter your Full Name",value:this.state.name,onChange:this.onChange}))),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Email"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{id:"email",name:"email",class:"input",type:"email",placeholder:"Email ID",value:this.state.email,onChange:this.onChange}))),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Phone"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{id:"phone",name:"phone",class:"input",type:"number",placeholder:"Enter your Phone",value:this.state.phone,onChange:this.onChange})),l.a.createElement("p",{class:"help"},"An OTP will be sent to given mobile number")),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Password"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{id:"password",name:"password",class:"input",type:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange}))),l.a.createElement(u.b,{to:"/"},"Already have an Account"),l.a.createElement("div",{class:"control"},l.a.createElement("center",null,l.a.createElement("button",{class:"button is-primary"},"Submit")))))}}]),t}(n.Component)),f=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(e){var n;Object(c.a)(this,t),(n=a.call(this,e)).onSubmit=function(){var e=Object(v.a)(h.a.mark((function e(a){var t,l,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n.setState({isPending:!0}),t=a.target.phone.value,l=a.target.password.value,t&&l){e.next=8;break}return n.setState({isPending:!1}),alert("Phone and Password are Empty"),e.abrupt("return");case 8:return e.next=10,fetch("/api/users/login",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({phone:t,password:l,loginTime:new Date})});case 10:return r=e.sent,e.next=13,r.json();case 13:s=e.sent,console.log(s),200==s.statusCode?(localStorage.setItem("userData",JSON.stringify(s.userData)),localStorage.setItem("isLoggedIn",!0),n.setState({loggedIn:!0})):alert("Login Details are Invalid"),n.setState({isPending:!1});case 17:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.onChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))};var l=!1;return l="true"==localStorage.getItem("isLoggedIn"),n.state={phone:"",password:"",loggedIn:l,isPending:!1},n}return Object(i.a)(t,[{key:"render",value:function(){return!0===this.state.loggedIn?l.a.createElement(E.a,{to:"/home"}):l.a.createElement("span",null,l.a.createElement(d,null),1==this.state.isPending?l.a.createElement("progress",{class:"progress is-small is-primary",max:"100"},"15%"):"",l.a.createElement("form",{style:{padding:"20px"},onSubmit:this.onSubmit},l.a.createElement("small",null,"Please give us Location Access, so that we can give you our best services"),l.a.createElement("center",{style:{fontSize:"50px",fontWeight:200}},"Login Form"),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Phone"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{id:"phone",name:"phone",class:"input",type:"number",placeholder:"Phone Number",value:this.state.phone,onChange:this.onChange}))),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Password"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{id:"password",name:"password",class:"input",type:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange}))),l.a.createElement(u.b,{to:"/register"},"Create New Account"),l.a.createElement("div",{class:"control"},l.a.createElement("center",null," ",l.a.createElement("button",{class:"button is-primary"},"Submit")))),l.a.createElement("hr",null))}}]),t}(n.Component),w=t(48),S=(t(172),n.Component,t(42)),y=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(e){var n;Object(c.a)(this,t),n=a.call(this,e);var l=JSON.parse(localStorage.getItem("userData"));return console.log(l),l=[l.location.latitude.value,l.location.longitude.value],console.log(l),n.lat=l[0],n.lng=l[1],n.state={lat:n.lat,lng:n.lng},n}return Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(S.GoogleMap,{defaultZoom:22,defaultCenter:{lat:this.state.lat,lng:this.state.lng}},l.a.createElement(S.Marker,{position:{lat:this.state.lat,lng:this.state.lng}}),l.a.createElement(S.Circle,{center:{lat:this.state.lat,lng:this.state.lng},radius:6}))}}]),t}(n.Component),N=Object(S.withScriptjs)(Object(S.withGoogleMap)(y)),O=function(e){return l.a.createElement("center",{style:{height:"600px",margin:"30px"}},l.a.createElement(N,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places",loadingElement:l.a.createElement("div",{style:{height:"100%"}}),containerElement:l.a.createElement("div",{style:{height:"100%",width:"100%"}}),mapElement:l.a.createElement("div",{style:{height:"100%"}})}))};var j=function(){return l.a.createElement("article",{class:"media"},l.a.createElement("div",{class:"media-left"},l.a.createElement("figure",{class:"image is-64x64"},l.a.createElement("img",{src:"https://lh3.googleusercontent.com/-aRoy2dv-oyU/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJO_i8Uh-v2LEFf7P2RMoQazKlNVKw/photo.jpg?sz=80",alt:"Image"}))),l.a.createElement("div",{class:"media-content"},l.a.createElement("div",{class:"content"},l.a.createElement("p",null,l.a.createElement("strong",null,"John Smith")," ",l.a.createElement("small",null,"@johnsmith")," ",l.a.createElement("small",null,"31m"),l.a.createElement("br",null),"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean efficitur sit amet massa fringilla egestas. Nullam condimentum luctus turpis.")),l.a.createElement("nav",{class:"level is-mobile"},l.a.createElement("div",{class:"level-left"},l.a.createElement("a",{class:"level-item","aria-label":"reply"},l.a.createElement("span",{class:"icon is-small"},l.a.createElement("i",{class:"fas fa-reply","aria-hidden":"true"}))),l.a.createElement("a",{class:"level-item","aria-label":"retweet"},l.a.createElement("span",{class:"icon is-small"},l.a.createElement("i",{class:"fas fa-retweet","aria-hidden":"true"}))),l.a.createElement("a",{class:"level-item","aria-label":"like"},l.a.createElement("span",{class:"icon is-small"},l.a.createElement("i",{class:"fas fa-heart","aria-hidden":"true"})))))))},C=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(e){var n;Object(c.a)(this,t),(n=a.call(this,e)).sendLocationtoServer=Object(v.a)(h.a.mark((function e(){var a,t,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("userData")),e.next=3,fetch("/api/users/update/"+a.phone+"/location",{method:"POST",headers:{"Content-type":"Application/json"},body:JSON.stringify({lat:n.state.latitude,lng:n.state.longitude,time:new Date})});case 3:return t=e.sent,e.next=6,t.json();case 6:l=e.sent,localStorage.setItem("userData",JSON.stringify(l)),console.log("isUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdatedisUpdated",l);case 9:case"end":return e.stop()}}),e)}))),n.getCurrentLocation=function(){var e=Object(w.a)(n);navigator.geolocation.getCurrentPosition((function(a){e.lan=a.coords.latitude,e.long=a.coords.longitude,e.acc=a.coords.accuracy})),n.setState({latitude:n.lan,longitude:n.long,accuracy:n.acc})},n.toggle=function(){!1===n.state.status?n.setState({status:!0}):n.setState({status:!1}),console.log(n.state)};var l=!0;return l="true"==localStorage.getItem("isLoggedIn"),n.state={status:!1,isLoggedIn:l,latitude:0,longitude:0,accuracy:0,response:!1,endpoint:"http://localhost:5000/",name:"",email:"",phone:0},console.log(new Date),n.getCurrentLocation=n.getCurrentLocation.bind(Object(w.a)(n)),n.getCurrentLocation(),setTimeout((function(){0==n.state.latitude&&(n.getCurrentLocation(),setInterval((function(){n.getCurrentLocation(),n.sendLocationtoServer()}),1e3))}),500),n}return Object(i.a)(t,[{key:"render",value:function(){return 0==this.state.isLoggedIn?l.a.createElement(E.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("a",{className:"navbar-item",href:"/",style:{fontSize:"40px",fontWeight:200}},"Stay Quaratine"),l.a.createElement("a",{href:"#ToggleNavbar",role:"button",onClick:this.toggle,className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}))),l.a.createElement("div",{id:"navbarBasicExample",className:!0===this.state.status?"navbar-menu is-active":"navbar-menu"},l.a.createElement("div",{className:"navbar-start"},l.a.createElement(u.b,{to:"/home",className:"navbar-item",href:"#Home"},"Home"),l.a.createElement("a",{className:"navbar-item",href:"#services"},"Services"),l.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},l.a.createElement(u.b,{to:"/home/settings",className:"navbar-link",href:"#login"},"Settings"),l.a.createElement("div",{className:"navbar-dropdown"},l.a.createElement("a",{className:"navbar-item"},"Account Settings"),l.a.createElement("a",{className:"navbar-item"},"Location Services"),l.a.createElement("a",{className:"navbar-item"},"Privacy"),l.a.createElement("hr",{className:"navbar-divider"}),l.a.createElement("a",{className:"navbar-item"},"Contact Us"),l.a.createElement("a",{className:"navbar-item"},"Report an issue")))),l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("div",{className:"buttons"},l.a.createElement(u.b,{to:"logout",className:"button is-danger"},"Logout")))))),l.a.createElement("center",null,l.a.createElement("button",{className:"button is-danger",onClick:this.getCurrentLocation},"get Location"),l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"latitude"),l.a.createElement("th",null,"longitude"),l.a.createElement("th",null,"Accuracy")),l.a.createElement("tr",null,l.a.createElement("td",null,this.state.latitude),l.a.createElement("td",null,this.state.longitude),l.a.createElement("td",null,this.state.accuracy)))),l.a.createElement(j,null),l.a.createElement("article",{class:"panel is-primary"},l.a.createElement("p",{class:"panel-heading"},"Primary"),l.a.createElement("p",{class:"panel-tabs"},l.a.createElement("a",{class:"is-active"},"All"),l.a.createElement("a",null,"Public"),l.a.createElement("a",null,"Private"),l.a.createElement("a",null,"Sources"),l.a.createElement("a",null,"Forks")),l.a.createElement("div",{class:"panel-block"},l.a.createElement("p",{class:"control has-icons-left"},l.a.createElement("input",{class:"input is-primary",type:"text",placeholder:"Search"}),l.a.createElement("span",{class:"icon is-left"},l.a.createElement("i",{class:"fas fa-search","aria-hidden":"true"})))),l.a.createElement("a",{class:"panel-block is-active"},l.a.createElement("span",{class:"panel-icon"},l.a.createElement("i",{class:"fas fa-book","aria-hidden":"true"})),"bulma"),l.a.createElement("a",{class:"panel-block"},l.a.createElement("span",{class:"panel-icon"},l.a.createElement("i",{class:"fas fa-book","aria-hidden":"true"})),"marksheet"),l.a.createElement("a",{class:"panel-block"},l.a.createElement("span",{class:"panel-icon"},l.a.createElement("i",{class:"fas fa-book","aria-hidden":"true"})),"minireset.css"),l.a.createElement("a",{class:"panel-block"},l.a.createElement("span",{class:"panel-icon"},l.a.createElement("i",{class:"fas fa-book","aria-hidden":"true"})),"jgthms.github.io")),l.a.createElement(O,null))}}]),t}(n.Component),k=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).get=Object(v.a)(h.a.mark((function e(){var a,t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyBfrIvC8g62dfdbIKzBK_zbkGBlyVmwzM4",{method:"POST"});case 2:return a=e.sent,e.next=5,a.json();case 5:t=e.sent,console.log(t),alert(JSON.parse(t)),n.setState({m:"GIT IT"});case 9:case"end":return e.stop()}}),e)}))),localStorage.setItem("isLoggedIn",!1),localStorage.setItem("userData",""),n.state={m:""},n.get(),n}return Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(d,null),"Logout",l.a.createElement(u.b,{to:"/"},"Go To Login Page"),l.a.createElement("br",null),this.state.m)}}]),t}(n.Component);var A=function(){return l.a.createElement("span",null,l.a.createElement(u.a,null,l.a.createElement(E.d,null,l.a.createElement(E.b,{path:"/",exact:!0,component:f}),l.a.createElement(E.b,{path:"/register",component:b}),l.a.createElement(E.b,{path:"/home",exact:!0,component:C}),l.a.createElement(E.b,{path:"/logout",component:k}))))},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(A,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");I?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):L(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):L(a,e)}))}}()}},[[160,1,2]]]);
//# sourceMappingURL=main.c23ae1b0.chunk.js.map